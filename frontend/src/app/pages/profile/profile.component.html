<!-- profile.component.html -->
<div class="profile-container" *ngIf="!loading">
  <!-- Error Message -->
  <div *ngIf="error" class="error-message">{{ error }}</div>

  <!-- Profile Section -->
  <div *ngIf="profile" class="profile-card">
    <h2>Welcome, {{ profile.name }}</h2>
    <p><strong>Email:</strong> {{ profile.email }}</p>

    <!-- Profile Picture Section -->
    <div class="profile-picture">
      <ng-container *ngIf="profile.profile_picture; else noPic">
        <img [src]="profile.profile_picture" alt="Profile Picture" />
      </ng-container>
      <ng-template #noPic>
        <div class="default-icon">
          <i class="fa fa-user-circle fa-5x"></i>
          <p>No profile picture available.</p>
        </div>
      </ng-template>
    </div>

    <!-- Upload New Picture -->
    <div class="upload-section">
      <label for="profilePicture" class="upload-label">Upload New Profile Picture</label>
      <input type="file" id="profilePicture" (change)="onUploadProfilePicture($event)" />
    </div>

    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>
</div>



<!-- Global Loading -->
<div *ngIf="loading" class="global-loading">
  <p>Loading profile...</p>
</div>
